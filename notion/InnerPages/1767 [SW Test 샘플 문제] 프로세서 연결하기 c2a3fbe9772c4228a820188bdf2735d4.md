---
layout: post
title:  "커스텀 포스트"
date:   2022-10-13 15:37:18 +0900
categories: 
---

# 1767. [SW Test 샘플 문제] 프로세서 연결하기

소유자: 준혁 최
태그: 삼성 SW expert

> 문제 url : [https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV4suNtaXFEDFAUf](https://swexpertacademy.com/main/code/problem/problemDetail.do?contestProbId=AV4suNtaXFEDFAUf)
> 

---

### 솔루션 코드

```cpp
#include<iostream>
#include <vector>

using namespace std;

vector<vector<int>> cores;
vector<vector<int>> lines;
int N;
int total_core;
int Min;
int MAX = 0;
string route = "";

bool check_line(int dx, int dy, int idx){
    bool poss = true;
    for(int i=0; i<cores.size(); ++i){
        if(i == idx) continue;
        
        if(dx == 0) {
            if(cores[i][0] == cores[idx][0] && cores[i][1] * dy > cores[idx][1] * dy) poss = false;
        }
        if(dy == 0) {
            if(cores[i][1] == cores[idx][1] && cores[i][0] * dx > cores[idx][0] * dx) poss = false;
        }
        if(!poss) break;
    }
    if(!poss) return false;
    for(int i=0; i<lines.size(); ++i){
        if(dx == 0) {
            if(lines[i][3] == 0 && lines[i][0] * lines[i][2] < cores[idx][0] * lines[i][2] && lines[i][1] * dy > cores[idx][1] * dy) poss = false;
        }
        if(dy == 0) {
            if(lines[i][2] == 0 && lines[i][0] * dx > cores[idx][0] * dx && lines[i][1] * lines[i][3] < cores[idx][1] * lines[i][3]) poss = false;
        }
    }
    return poss;
}

void rec(int idx, int res, string road) {
    if(idx == cores.size()) {
        if(res < Min) {
            Min = res;
            route = road;
        }
        return;
    }
    if(cores[idx][0] % (N-1) == 0 || cores[idx][1] % (N-1) == 0){
        rec(idx+1, res - 1000, road + "0");
        return;
    }
    
    if(check_line(-1, 0, idx)){
        lines.push_back( {cores[idx][0], cores[idx][1], -1, 0} );
        rec(idx+1, res + cores[idx][0] - 1000, road + "u");
        lines.pop_back();
    }
    
    if(check_line(0, -1, idx)){
        lines.push_back( {cores[idx][0], cores[idx][1], 0, -1} );
        rec(idx+1, res + cores[idx][1] - 1000, road + "l");
        lines.pop_back();
    }
    
    if(check_line(1, 0, idx)){
        lines.push_back( {cores[idx][0], cores[idx][1], 1, 0} );
        rec(idx+1, res + N-1 - cores[idx][0] - 1000, road + "d");
        lines.pop_back();
    }
    
    if(check_line(0, 1, idx)){
        lines.push_back( {cores[idx][0], cores[idx][1], 0, 1} );
        rec(idx+1, res + N-1 - cores[idx][1] - 1000, road + "r");
        lines.pop_back();
    }
    
    rec(idx+1, res, road + "x");
}

int main(int argc, char** argv)
{
	int test_case;
	int T;
	cin>>T;
	for(test_case = 1; test_case <= T; ++test_case)
	{
		/////////////////////////////////////////////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////////////////////////////
		cores.clear();
        lines.clear();
        total_core = 0;
        Min = MAX;
        cin >> N;
        for(int i=0;i<N; ++i){
            for(int j=0; j<N; ++j){
                int tmp;
                cin >> tmp;
                if(tmp == 1){
                    cores.push_back( {i, j} );
                    ++total_core;
                }
            }
        }
        rec(0, 0, "");
//        cout << Min <<endl;
//        cout << route <<endl;
        int answer = (Min % 1000) + 1000;
        if(Min == 0) answer = 0;
        cout << "#" << test_case << " "<< answer <<endl;

	}
	return 0;//정상종료시 반드시 0을 리턴해야합니다.
}
```

---

### 문제 분석

---

![Untitled](1767%20%5BSW%20Test%20%E1%84%89%E1%85%A2%E1%86%B7%E1%84%91%E1%85%B3%E1%86%AF%20%E1%84%86%E1%85%AE%E1%86%AB%E1%84%8C%E1%85%A6%5D%20%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%89%E1%85%A6%E1%84%89%E1%85%A5%20%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%80%E1%85%A7%E1%86%AF%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%20c2a3fbe9772c4228a820188bdf2735d4/Untitled.png)